import{r as te,c as h,a as y,o as p,b as m,d as a,e as k,F as L,f as ae,S as R,u as K,M as w,t as g,g as M,h as oe,i as se,w as O,j as x,v as ne,k as re,l as D,p as S,m as I,n as le,q as ce,s as q,x as ie,y as de,z as ue,A as _e,B,C as V,D as pe,E as me,G as ve}from"./vendor.d13f129b.js";const ge=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function o(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(l){if(l.ep)return;l.ep=!0;const i=o(l);fetch(l.href,i)}};ge();const r=te({user:{},account:{},keeps:[],activeKeep:{},usersVaults:[],activeProfile:{},usersKeeps:[],activeVault:{},vaultKeeps:[],activeVaultId:{},myVaults:[],myKeeps:[]});var b=(s,e)=>{for(const[o,t]of e)s[o]=t;return s};const he={name:"App",setup(){return{appState:h(()=>r)}}};function fe(s,e,o,t,l,i){const n=y("Navbar"),v=y("router-view"),_=y("KeepModal"),$=y("NewVaultModal"),X=y("NewKeepModal"),ee=y("VaultKeepModal");return p(),m(L,null,[a("header",null,[k(n)]),a("main",null,[k(v),k(_),k($),k(X),k(ee)])],64)}var be=b(he,[["render",fe]]);const z=window.location.origin.includes("localhost"),H=z?"https://localhost:5001":"",ye="dev-9ptc0fv8.us.auth0.com",ke="TWUCpgDir5QlmcwhsdBwGZOUMItsxpMD",we="https://SethDev.com";function T(s,e){if(z)console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(s){case"log":case"assert":return}console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const c={log(){T("log",arguments)},error(){T("error",arguments)},warn(){T("warn",arguments)},assert(){T("assert",arguments)},trace(){T("trace",arguments)}},u=ae.create({baseURL:H,timeout:8e3});class xe{async getKeeps(){const e=await u.get("api/keeps");c.log(e.data),r.keeps=e.data}async setActiveKeep(e){await u.get(`api/keeps/${e.id}`),c.log(e),r.activeKeep=e,e.views++,c.log(r.activeKeep)}async createKeep(e){const o=await u.post("api/keeps",e);return c.log("keep created",o.data),r.usersKeeps.push(o.data),o.data}async deleteKeep(e){const o=await u.delete(`api/keeps/${e}`);c.log("keep deleted",o.data),r.keeps=r.keeps.filter(t=>t.id!=e)}}const C=new xe;class d{static async confirm(e="Are you sure?",o="You won't be able to revert this!",t="warning",l="Yes, delete it!"){try{return!!(await R.fire({title:e,text:o,icon:t,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:l})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",t="top-end",l=3e3,i=!0){R.fire({title:e,icon:o,position:t,timer:l,timerProgressBar:i,toast:!0,showConfirmButton:!1})}static error(e){var o;if(e.isAxiosError){const{response:t}=e;this.toast(((o=t.data.error)==null?void 0:o.message)||t.data.message,"error")}else this.toast(e.message||e,"error")}static success(e="Success!"){this.toast(e,"success")}}const Ke={props:{keep:{type:Object,required:!0}},setup(s){const e=K();return{goToProfile(){try{w.getOrCreateInstance(document.getElementById("keep-modal")).hide(),e.push({name:"Profile",params:{id:s.keep.creatorId}})}catch(o){d.toast("error"),c.log(o)}},async setActiveKeep(){try{C.setActiveKeep(s.keep)}catch(o){d.toast(o.message,"error"),c.log(o)}}}}},Ve={class:""},Te=["src"],$e={class:"text-img d-flex justify-content-between text-light"},Se={class:"profile-img"},Ie=["title","src"];function Ce(s,e,o,t,l,i){return p(),m("div",{class:"col-md-12 shadow rounded selectable","data-bs-target":"#keep-modal","data-bs-toggle":"modal",onClick:e[1]||(e[1]=(...n)=>t.setActiveKeep&&t.setActiveKeep(...n))},[a("div",Ve,[a("img",{class:"img-fluid",src:o.keep.img,alt:""},null,8,Te)]),a("div",$e,[a("h4",null,g(o.keep.name),1)]),a("div",Se,[a("img",{class:"action profile-img",title:o.keep.creator.name,onClick:e[0]||(e[0]=(...n)=>t.goToProfile&&t.goToProfile(...n)),src:o.keep.creator.picture,alt:""},null,8,Ie)])])}var Pe=b(Ke,[["render",Ce],["__scopeId","data-v-12707483"]]),Ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pe});class Ee{async getProfile(e){const o=await u("api/profiles/"+e);r.activeProfile=o.data}async getUsersVaults(e){const o=await u(`api/profiles/${e}/vaults`);c.log(o.data),r.usersVaults=o.data}async getUsersKeeps(e){const o=await u(`api/profiles/${e}/keeps`);r.usersKeeps=o.data}}const Me=new Ee;class Oe{async setActiveVault(e){const o=await u.get(`api/vaults/${e}`);r.activeVault=o.data}async getVaultKeeps(e){const o=await u.get(`api/vaults/${e}/keeps`);c.log("vaultkeep",o.data),r.vaultKeeps=o.data,r.activeVaultId=e}async deleteVault(e){const o=await u.delete(`api/vaults/${e}`);c.log("deleted vault",o.data),r.usersVaults=r.usersVaults.filter(t=>t.id!=e)}async createVault(e){const o=await u.post("api/vaults",e);return r.usersVaults=r.usersVaults.push(o.data),o.data}}const P=new Oe;class De{async remove(e){const o=await u.delete(`api/vaultKeeps/${e}`);c.log("Removed Keep",o.data),(r.vaultKeeps.id=r.keeps.id)&&(r.vaultKeeps=r.vaultKeeps.filter(t=>t.id!=e))}async addToVault(e){const o=await u.post("api/vaultKeeps",e);r.activeVaultId==e.vaultId&&await P.getVaultKeeps(e.vaultId),c.log(o.data)}}const Y=new De;const je={setup(){const s=K(),e=M(0);return oe(async()=>{await Me.getUsersVaults()}),{vaultId:e,user:h(()=>r.user),account:h(()=>r.account),keep:h(()=>r.activeKeep),vaults:h(()=>r.myVaults),activeKeep:h(()=>r.activeKeep),goToProfile(){try{w.getOrCreateInstance(document.getElementById("keep-modal")).hide(),s.push({name:"Profile",params:{id:this.activeKeep.creatorId}})}catch(o){d.toast("error"),c.log(o)}},async addToVault(){const o={vaultId:e.value,keepId:this.keep.id};try{w.getOrCreateInstance(document.getElementById("keep-modal")).hide(),await Y.addToVault(o),e.value=0,this.keep.kept++,d.toast("Added to Vault")}catch(t){d.toast("error"),c.log(t)}},async deleteKeep(){try{await d.confirm()&&(w.getOrCreateInstance(document.getElementById("keep-modal")).hide(),await C.deleteKeep(this.keep.id),d.toast("Keep Deleted"))}catch(o){d.toast("Not Your Keep"),c.log(o)}}}}},j=s=>(S("data-v-35db90ee"),s=s(),I(),s),Ne={class:"row"},Ue={class:"col-md-6"},Le=["src"],Re={class:"col-md-6 d-flex flex-column justify-content-around"},qe=j(()=>a("div",{class:"d-flex justify-content-end"},[a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",title:"Close","aria-label":"Close"})],-1)),Be={class:"d-flex justify-content-center"},ze={class:"mdi mdi-eye mx-2",title:"Views"},He={class:"mdi mdi-alpha-k-box mx-2",title:"Added To A Vault"},Ye={class:"text-center"},Fe=j(()=>a("p",{class:"border-bottom border-dark"},null,-1)),We={class:"d-flex justify-content-between"},Ge=j(()=>a("option",{value:"0",disabled:"",selected:"",hidden:""},"ADD TO VAULT",-1)),Qe=["value"],Ze=["src"],Je={class:"mx-3 selectable lighten-30"};function Xe(s,e,o,t,l,i){const n=y("Modal");return p(),se(n,{id:"keep-modal"},{"modal-body":O(()=>{var v;return[a("div",Ne,[a("div",Ue,[a("img",{class:"rounded",src:t.keep.img,alt:""},null,8,Le)]),a("div",Re,[qe,a("div",Be,[a("i",ze,g(t.keep.views),1),a("i",He,g(t.keep.kept),1)]),a("h1",Ye,g(t.keep.name),1),a("p",null,g(t.keep.description),1),Fe,a("div",We,[x(a("select",{name:"vault",id:"vault",onChange:e[0]||(e[0]=(..._)=>t.addToVault&&t.addToVault(..._)),"onUpdate:modelValue":e[1]||(e[1]=_=>t.vaultId=_)},[Ge,(p(!0),m(L,null,re(t.vaults,_=>(p(),m("option",{key:_.id,value:_.id},g(_.name),9,Qe))),128))],544),[[ne,t.vaultId]]),a("div",null,[t.keep.creatorId==t.account.id?(p(),m("i",{key:0,class:"mdi mdi-delete selectable mdi-24px",title:"Delete",onClick:e[2]||(e[2]=(..._)=>t.deleteKeep&&t.deleteKeep(..._))})):D("",!0)]),a("div",{class:"d-flex align-items-center",onClick:e[3]||(e[3]=(..._)=>t.goToProfile&&t.goToProfile(..._))},[a("img",{src:t.keep.creator,alt:"",height:"40",class:"rounded profile-img"},null,8,Ze),a("span",Je,[a("b",null,g((v=t.keep.creator)==null?void 0:v.name),1)])])])])])]}),_:1})}var et=b(je,[["render",Xe],["__scopeId","data-v-35db90ee"]]),tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:et});const at="modulepreload",F={},ot="/",A=function(e,o){return!o||o.length===0?e():Promise.all(o.map(t=>{if(t=`${ot}${t}`,t in F)return;F[t]=!0;const l=t.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const n=document.createElement("link");if(n.rel=l?"stylesheet":at,l||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),l)return new Promise((v,_)=>{n.addEventListener("load",v),n.addEventListener("error",_)})})).then(()=>e())};function st(s){switch(s){case"./pages/AccountPage.vue":return A(()=>import("./AccountPage.a9e942cf.js"),["assets/AccountPage.a9e942cf.js","assets/AccountPage.2cfaabb0.css","assets/vendor.d13f129b.js"]);case"./pages/HomePage.vue":return A(()=>import("./HomePage.a778030d.js"),["assets/HomePage.a778030d.js","assets/HomePage.08fd8827.css","assets/vendor.d13f129b.js"]);case"./pages/ProfilePage.vue":return A(()=>import("./ProfilePage.49bbce6e.js"),["assets/ProfilePage.49bbce6e.js","assets/ProfilePage.10ce656b.css","assets/vendor.d13f129b.js"]);case"./pages/VaultPage.vue":return A(()=>import("./VaultPage.42cdcc60.js"),["assets/VaultPage.42cdcc60.js","assets/VaultPage.1f619dc4.css","assets/vendor.d13f129b.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}function E(s){return()=>st(`./pages/${s}.vue`)}const nt=[{path:"/",name:"Home",component:E("HomePage")},{path:"/profile/:id",name:"Profile",component:E("ProfilePage"),beforeEnter:q},{path:"/vault/:id",name:"Vault",component:E("VaultPage"),beforeEnter:q},{path:"/account",name:"Account",component:E("AccountPage"),beforeEnter:ie}],W=le({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:ce(),routes:nt});class rt{async getAccount(){try{const e=await u.get("/account");r.account=e.data}catch(e){c.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async getMyVaults(){try{const e=await u.get("/account/vaults");c.log("my vaults",e.data),r.myVaults=e.data}catch(e){c.log(e)}}async getMyKeeps(){try{const e=await u.get("/account/keeps");c.log("my keeps",e.data),r.myKeeps=e.data}catch(e){c.log(e)}}}const N=new rt,lt={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class ct{constructor(e=!1,o=H){}on(e,o){var t;return(t=this.socket)==null||t.on(e,o.bind(this)),this}onConnected(e){c.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){c.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(lt.authenticate,e)}onError(e){c.error("[SOCKET_ERROR]",e)}enqueue(e,o){c.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){c.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class it extends ct{constructor(){super();this.on("error",this.onError)}onError(e){d.toast(e.message,"error")}}const G=new it,f=de({domain:ye,clientId:ke,audience:we,useRefreshTokens:!0,onRedirectCallback:s=>{W.push(s&&s.targetUrl?s.targetUrl:window.location.pathname)}});f.on(f.AUTH_EVENTS.AUTHENTICATED,async function(){u.defaults.headers.authorization=f.bearer,u.interceptors.request.use(dt),r.user=f.user,await N.getAccount(),G.authenticate(f.bearer),await N.getMyVaults(),await N.getMyKeeps()});async function dt(s){if(!f.isAuthenticated)return s;const e=f.identity.exp*1e3,o=e<Date.now(),t=e<Date.now()+1e3*60*60*12;return o?await f.loginWithPopup():t&&(await f.getTokenSilently(),u.defaults.headers.authorization=f.bearer,G.authenticate(f.bearer)),s}const ut={setup(){return{user:h(()=>r.user),account:h(()=>r.account),async login(){f.loginWithPopup()},async logout(){f.logout({returnTo:window.location.origin})}}}},Q=s=>(S("data-v-789aaf96"),s=s(),I(),s),_t={class:"navbar-text"},pt={key:1,class:"dropdown my-2 my-lg-0"},mt={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},vt={key:0,class:"bg-secondary rounded"},gt=["src"],ht={class:"mx-3 text-success lighten-30"},ft={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},bt=Q(()=>a("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Account ",-1)),yt=Q(()=>a("i",{class:"mdi mdi-logout"},null,-1)),kt=ue(" logout "),wt=[yt,kt];function xt(s,e,o,t,l,i){const n=y("router-link");return p(),m("span",_t,[t.user.isAuthenticated?(p(),m("div",pt,[a("div",mt,[t.account.picture?(p(),m("div",vt,[a("img",{src:t.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,gt),a("span",ht,g(t.account.name),1)])):D("",!0)]),a("div",ft,[k(n,{to:{name:"Account"}},{default:O(()=>[bt]),_:1}),a("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...v)=>t.logout&&t.logout(...v))},wt)])])):(p(),m("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...v)=>t.login&&t.login(...v))}," Login "))])}var Kt=b(ut,[["render",xt],["__scopeId","data-v-789aaf96"]]),Vt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kt});const Tt={},$t={class:"modal fade",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},St={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},It={class:"modal-content"},Ct={class:"modal-body"};function Pt(s,e){return p(),m("div",$t,[a("div",St,[a("div",It,[a("div",Ct,[_e(s.$slots,"modal-body")])])])])}var At=b(Tt,[["render",Pt]]),Et=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:At});const Mt={setup(){return{}}},U=s=>(S("data-v-6cdc24eb"),s=s(),I(),s),Ot={class:"navbar navbar-expand-lg navbar-success bg-success px-3"},Dt=U(()=>a("div",{class:"d-flex flex-column align-items-center"},[a("h1",null,"Keepr")],-1)),jt=U(()=>a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1)),Nt={class:"collapse navbar-collapse",id:"navbarText"},Ut=U(()=>a("ul",{class:"navbar-nav me-auto"},[a("li")],-1));function Lt(s,e,o,t,l,i){const n=y("router-link"),v=y("Login");return p(),m("nav",Ot,[k(n,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:O(()=>[Dt]),_:1}),jt,a("div",Nt,[Ut,k(v)])])}var Rt=b(Mt,[["render",Lt],["__scopeId","data-v-6cdc24eb"]]),qt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rt});const Bt={setup(){const s=M({});return{keepData:s,async createKeep(){try{w.getOrCreateInstance(document.getElementById("new-keep-modal")).hide(),await C.createKeep(s.value),s.value={},d.toast("Keep Created")}catch(e){d.toast(e,"error"),c.log(e)}}}}},zt={class:"modal fade",id:"new-keep-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},Ht={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},Yt={class:"modal-content"},Ft=a("div",{class:"d-flex justify-content-between m-3"},[a("h1",null,"New Keep"),a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Wt={class:"modal-body"},Gt=a("h5",{class:"m-0"},"Title",-1),Qt=a("h5",{class:"m-0"},"Image Url",-1),Zt=a("h5",{class:""},"Description",-1),Jt=a("div",{class:"text-end mt-3"},[a("button",{type:"submit",class:"btn btn-success"},"Create")],-1);function Xt(s,e,o,t,l,i){return p(),m("div",zt,[a("div",Ht,[a("div",Yt,[Ft,a("div",Wt,[a("form",{onSubmit:e[3]||(e[3]=B((...n)=>t.createKeep&&t.createKeep(...n),["prevent"]))},[Gt,x(a("input",{required:"",class:"form-control mt-1 mb-3",placeholder:"Title...",type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>t.keepData.name=n)},null,512),[[V,t.keepData.name]]),Qt,x(a("input",{required:"",class:"form-control mt-1 mb-3",placeholder:"URL...",type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>t.keepData.img=n)},null,512),[[V,t.keepData.img]]),Zt,x(a("textarea",{required:"",class:"form-control",placeholder:"Description...",name:"",id:"",cols:"30",rows:"5","onUpdate:modelValue":e[2]||(e[2]=n=>t.keepData.description=n)},null,512),[[V,t.keepData.description]]),Jt],32)])])])])}var ea=b(Bt,[["render",Xt]]),ta=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ea});const aa={setup(){let s=M({});return{vaultData:s,async createVault(){try{w.getOrCreateInstance(document.getElementById("vault-modal")).hide(),await P.createVault(s.value),s={},d.toast("Vault Created")}catch(e){d.toast(e,"error"),c.log(e)}}}}},oa={class:"modal fade",id:"vault-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},sa={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},na={class:"modal-content"},ra=a("div",{class:"d-flex justify-content-between m-2"},[a("h2",null,"New Vault"),a("button",{type:"button",title:"Close",class:"btn-close btn-danger","data-bs-dismiss":"modal","aria-label":"Close"})],-1),la={class:"modal-body"},ca=a("h5",{class:""},"Title",-1),ia=a("h5",{class:""},"Image Url",-1),da={class:"d-flex"},ua=a("h5",{class:"m-0 ms-2"},"Private?",-1),_a=a("p",{class:"text-muted"},"Private Vaults can only be seen by you",-1),pa=a("div",{class:"d-flex justify-content-end m-2"},[a("button",{type:"submit",class:"btn btn-success"},"Create")],-1);function ma(s,e,o,t,l,i){return p(),m("div",oa,[a("div",sa,[a("div",na,[ra,a("div",la,[a("form",{onSubmit:e[3]||(e[3]=B((...n)=>t.createVault&&t.createVault(...n),["prevent"]))},[ca,x(a("input",{required:"",id:"name",name:"name",placeholder:"Title...",class:"form-control mb-3",type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>t.vaultData.name=n)},null,512),[[V,t.vaultData.name]]),ia,x(a("input",{required:"",id:"img",name:"img",placeholder:"Url...",class:"form-control mb-3",type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>t.vaultData.img=n)},null,512),[[V,t.vaultData.img]]),a("div",da,[x(a("input",{type:"checkbox",id:"isPrivate","onUpdate:modelValue":e[2]||(e[2]=n=>t.vaultData.isPrivate=n)},null,512),[[pe,t.vaultData.isPrivate]]),ua]),_a,pa],32)])])])])}var va=b(aa,[["render",ma]]),ga=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:va});const ha={props:{vault:{type:Object,required:!0}},setup(s){const e=K();return{router:e,async goToVaultPage(){try{await P.setActiveVault(s.vault.id),e.push({name:"Vault",params:{id:s.vault.id}})}catch(o){d.toast(o,"error"),c.log(o)}}}}},fa={class:""},ba=["src"],ya={class:"text-img d-flex justify-content-between text-light"};function ka(s,e,o,t,l,i){return p(),m("div",{class:"mb-2 mx-3 p-0 shadow rounded selectable",onClick:e[0]||(e[0]=(...n)=>t.goToVaultPage&&t.goToVaultPage(...n))},[a("div",fa,[a("img",{class:"rounded img-tag",src:o.vault.img,alt:""},null,8,ba)]),a("div",ya,[a("h4",null,g(o.vault.name),1)])])}var wa=b(ha,[["render",ka],["__scopeId","data-v-7afe2232"]]),xa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wa});const Ka={props:{vaultKeep:{type:Object,required:!0}},setup(s){const e=K();return{goToProfile(){try{e.push({name:"Profile",params:{id:s.vaultKeep.creatorId}})}catch(o){d.toast("error"),c.log(o)}},async setActiveKeep(){try{C.setActiveKeep(s.vaultKeep)}catch(o){d.toast(o.message,"error"),c.log(o)}}}}},Va={class:""},Ta=["src"],$a={class:"text-img d-flex justify-content-between text-light"},Sa={class:"profile-img"},Ia=["src"];function Ca(s,e,o,t,l,i){return p(),m("div",{class:"col-md-12 shadow rounded selectable","data-bs-target":"#vault-keep-modal","data-bs-toggle":"modal",onClick:e[1]||(e[1]=(...n)=>t.setActiveKeep&&t.setActiveKeep(...n))},[a("div",Va,[a("img",{class:"img-fluid background-image rounded",src:o.vaultKeep.img,alt:""},null,8,Ta)]),a("div",$a,[a("h4",null,g(o.vaultKeep.name),1)]),a("div",Sa,[a("img",{class:"action profile-img",onClick:e[0]||(e[0]=(...n)=>t.goToProfile&&t.goToProfile(...n)),src:o.vaultKeep.creator.picture,alt:""},null,8,Ia)])])}var Pa=b(Ka,[["render",Ca],["__scopeId","data-v-b1a4e868"]]),Aa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pa});const Ea={setup(){const s=K();return me(async()=>{await P.getVaultKeeps()}),{keep:h(()=>r.activeKeep),vaults:h(()=>r.usersVaults),vaultKeep:h(()=>r.vaultKeeps),account:h(()=>r.account),user:h(()=>r.user),goToProfile(){try{w.getOrCreateInstance(document.getElementById("vault-keep-modal")).hide(),s.push({name:"Profile",params:{id:this.activeKeep.creatorId}})}catch(e){d.toast("error"),c.log(e)}},async removeFromVault(){try{await d.confirm()&&(w.getOrCreateInstance(document.getElementById("vault-keep-modal")).hide(),await Y.remove(this.keep.vaultKeepId),d.toast("Keep Removed"))}catch(e){d.toast("error"),c.log(e)}}}}},Z=s=>(S("data-v-066bc64c"),s=s(),I(),s),Ma={class:"modal fade",id:"vault-keep-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},Oa={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},Da={class:"modal-content"},ja={class:"row"},Na={class:"col-md-6"},Ua=["src"],La={class:"col-md-6 d-flex flex-column justify-content-around"},Ra=Z(()=>a("div",{class:"d-flex justify-content-end"},[a("button",{type:"button",class:"btn-close m-2","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),qa={class:"d-flex justify-content-center"},Ba={class:"mx-3 mb-0"},za={class:"mx-3 mb-0"},Ha={class:"text-center"},Ya=Z(()=>a("p",{class:"border-bottom border-dark"},null,-1)),Fa={class:"d-flex justify-content-between"},Wa=["src"],Ga={class:"mx-3 selectable lighten-30"};function Qa(s,e,o,t,l,i){var n,v,_;return p(),m("div",Ma,[a("div",Oa,[a("div",Da,[a("div",ja,[a("div",Na,[a("img",{class:"rounded p-2",src:t.keep.img,alt:""},null,8,Ua)]),a("div",La,[Ra,a("div",qa,[a("h5",Ba,"Views: "+g(t.keep.views),1),a("h5",za,"Kepts: "+g(t.keep.kept),1)]),a("h1",Ha,g(t.keep.name),1),a("p",null,g(t.keep.description),1),Ya,a("div",Fa,[a("div",null,[((n=t.keep.creator)==null?void 0:n.id)==t.account.id?(p(),m("button",{key:0,class:"border-secondary rounded",onClick:e[0]||(e[0]=$=>t.removeFromVault())},"Remove From Vault")):D("",!0)]),a("div",{class:"d-flex align-items-center",onClick:e[1]||(e[1]=(...$)=>t.goToProfile&&t.goToProfile(...$))},[a("img",{src:(v=t.keep.creator)==null?void 0:v.img,alt:"",height:"40",class:"rounded profile-img"},null,8,Wa),a("span",Ga,[a("b",null,g((_=t.keep.creator)==null?void 0:_.name),1)])])])])])])])])}var Za=b(Ea,[["render",Qa],["__scopeId","data-v-066bc64c"]]),Ja=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Za});function Xa(s){Object.entries({"./components/Keep.vue":Ae,"./components/KeepModal.vue":tt,"./components/Login.vue":Vt,"./components/Modal.vue":Et,"./components/Navbar.vue":qt,"./components/NewKeepModal.vue":ta,"./components/NewVaultModal.vue":ga,"./components/Vault.vue":xa,"./components/VaultKeep.vue":Aa,"./components/VaultKeepModal.vue":Ja}).forEach(([o,t])=>{const l=t.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");s.component(l,t.default)})}const J=ve(be);Xa(J);J.use(W).mount("#app");export{r as A,d as P,b as _,N as a,C as k,c as l,Me as p,P as v};
