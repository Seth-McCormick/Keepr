import{u as V,H as f,h as g,c as o,a as h,o as l,b as n,d as s,t as m,l as y,F as p,k as K,e as x}from"./vendor.d13f129b.js";import{_ as P,v as d,P as i,l as v,A as u}from"./index.87640295.js";const w={name:"VaultPage",setup(){const c=V(),e=f();return g(async()=>{try{await d.setActiveVault(e.params.id),await d.getVaultKeeps(e.params.id)}catch(t){i.toast("Vault Is Private","error"),v.log(t),c.push({name:"Home",params:{id:e.params.id}})}}),{vault:o(()=>u.activeVault),vaultKeeps:o(()=>u.vaultKeeps),user:o(()=>u.user),account:o(()=>u.account),async deleteVault(){try{await i.confirm()&&(await d.deleteVault(e.params.id),await c.push({name:"Profile",params:{id:this.vault.creatorId}}))}catch(t){i.toast(t,"error"),v.log(t)}}}}},k={class:"col-md-11 mx-5 mt-5 d-flex justify-content-between"},b={class:"ms-5"},I={class:"masonry-frame m-3"};function j(c,e,t,a,A,B){const _=h("VaultKeep");return l(),n(p,null,[s("div",k,[s("h1",null,m(a.vault.name),1),a.account.id==a.vault.creatorId?(l(),n("button",{key:0,class:"rounded",onClick:e[0]||(e[0]=(...r)=>a.deleteVault&&a.deleteVault(...r))},"Delete Vault")):y("",!0)]),s("div",null,[s("h5",b,"Keeps: "+m(a.vaultKeeps.length),1)]),s("div",I,[(l(!0),n(p,null,K(a.vaultKeeps,r=>(l(),n("div",{class:"m-2",key:r.id},[x(_,{vaultKeep:r},null,8,["vaultKeep"])]))),128))])],64)}var S=P(w,[["render",j],["__scopeId","data-v-6adaa85a"]]);export{S as default};
